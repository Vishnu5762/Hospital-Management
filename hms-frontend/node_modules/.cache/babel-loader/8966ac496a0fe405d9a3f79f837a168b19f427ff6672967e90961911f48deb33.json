{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\OneDrive\\\\Desktop\\\\resume_projects\\\\hms-frontend\\\\src\\\\pages\\\\Login.js\",\n  _s = $RefreshSig$();\n// src/pages/Login.js\n\nimport React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport { TextField, Button, Box, Typography, Card, CardContent, CircularProgress } from '@mui/material'; // Added CircularProgress for loading\nimport './Login.css'; // <-- External CSS for centering and structure\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false); // State for loading indicator\n  const {\n    login\n  } = useAuth();\n  const navigate = useNavigate();\n  const handleLogin = async e => {\n    e.preventDefault();\n    setMessage('');\n    setLoading(true); // Start loading\n    try {\n      const user = await login(username, password);\n\n      // Redirect based on role\n      if (user.role === \"ROLE_ADMIN\") {\n        navigate(\"/admin/dashboard\");\n      } else if (user.role === \"ROLE_DOCTOR\") {\n        navigate(\"/doctor/dashboard\");\n      } else if (user.role === \"ROLE_PATIENT\") {\n        navigate(\"/patient/dashboard\");\n      }\n    } catch (error) {\n      setMessage(\"Login failed. Check username and password.\");\n    } finally {\n      setLoading(false); // Stop loading\n    }\n  };\n  return (\n    /*#__PURE__*/\n    // 1. OUTER BOX: Centers the entire content vertically and horizontally (uses external CSS)\n    _jsxDEV(Box, {\n      className: \"login-page-container\",\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        minHeight: '100vh'\n        // Ensures the background shine is visible\n      },\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"login-card\",\n        sx: {\n          minWidth: 350,\n          maxWidth: 400,\n          p: 3,\n          boxShadow: 3\n        },\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            component: \"div\",\n            gutterBottom: true,\n            align: \"center\",\n            sx: {\n              mb: 4\n            },\n            children: \"Hospital Management Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            component: \"form\",\n            onSubmit: handleLogin,\n            sx: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              label: \"Username *\",\n              variant: \"outlined\",\n              fullWidth: true,\n              value: username,\n              onChange: e => setUsername(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              label: \"Password *\",\n              type: \"password\",\n              variant: \"outlined\",\n              fullWidth: true,\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"contained\",\n              size: \"large\",\n              color: \"primary\",\n              fullWidth: true,\n              sx: {\n                mt: 2\n              },\n              disabled: loading // Disable button while loading\n              ,\n              children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 24,\n                color: \"inherit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 40\n              }, this) : 'LOGIN'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 25\n            }, this), message && /*#__PURE__*/_jsxDEV(Typography, {\n              color: \"error\",\n              align: \"center\",\n              variant: \"body2\",\n              sx: {\n                mt: 1\n              },\n              children: message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                mt: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                component: Link,\n                to: \"/register\",\n                sx: {\n                  textDecoration: 'none',\n                  color: 'primary.main',\n                  fontWeight: 'bold'\n                },\n                children: \"New User? **Register**\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                component: Link,\n                to: \"/forgot-password\",\n                sx: {\n                  textDecoration: 'none',\n                  color: 'text.secondary'\n                },\n                children: \"Forgot Password?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this)\n  );\n};\n_s(Login, \"yU8mc5E1343GpPCHlX7KAB6Tn7c=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","Link","useAuth","TextField","Button","Box","Typography","Card","CardContent","CircularProgress","jsxDEV","_jsxDEV","Login","_s","username","setUsername","password","setPassword","message","setMessage","loading","setLoading","login","navigate","handleLogin","e","preventDefault","user","role","error","className","sx","display","justifyContent","alignItems","minHeight","children","minWidth","maxWidth","p","boxShadow","variant","component","gutterBottom","align","mb","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","flexDirection","gap","label","fullWidth","value","onChange","target","required","type","size","color","mt","disabled","to","textDecoration","fontWeight","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/OneDrive/Desktop/resume_projects/hms-frontend/src/pages/Login.js"],"sourcesContent":["// src/pages/Login.js\r\n\r\nimport React, { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom'; \r\nimport { useAuth } from '../context/AuthContext';\r\nimport { TextField, Button, Box, Typography, Card, CardContent, CircularProgress } from '@mui/material'; // Added CircularProgress for loading\r\nimport './Login.css'; // <-- External CSS for centering and structure\r\n\r\nconst Login = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const [loading, setLoading] = useState(false); // State for loading indicator\r\n    const { login } = useAuth();\r\n    const navigate = useNavigate();\r\n\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault();\r\n        setMessage('');\r\n        setLoading(true); // Start loading\r\n        try {\r\n            const user = await login(username, password);\r\n            \r\n            // Redirect based on role\r\n            if (user.role === \"ROLE_ADMIN\") {\r\n                navigate(\"/admin/dashboard\");\r\n            } else if (user.role === \"ROLE_DOCTOR\") {\r\n                navigate(\"/doctor/dashboard\");\r\n            } else if (user.role === \"ROLE_PATIENT\") {\r\n                navigate(\"/patient/dashboard\");\r\n            }\r\n        } catch (error) {\r\n            setMessage(\"Login failed. Check username and password.\");\r\n        } finally {\r\n            setLoading(false); // Stop loading\r\n        }\r\n    };\r\n\r\n    return (\r\n        // 1. OUTER BOX: Centers the entire content vertically and horizontally (uses external CSS)\r\n        <Box className=\"login-page-container\" sx={{ \r\n            display: 'flex', \r\n            justifyContent: 'center', \r\n            alignItems: 'center', \r\n            minHeight: '100vh', \r\n            // Ensures the background shine is visible\r\n            \r\n        }}> \r\n            {/* 2. CARD: Holds the login form structure */}\r\n            <Card className=\"login-card\" sx={{ \r\n                minWidth: 350, \r\n                maxWidth: 400,\r\n                p: 3, \r\n                boxShadow: 3\r\n            }}>\r\n                <CardContent>\r\n                    <Typography variant=\"h5\" component=\"div\" gutterBottom align=\"center\" sx={{ mb: 4 }}>\r\n                        Hospital Management Login\r\n                    </Typography>\r\n                    \r\n                    {/* 3. FORM FIELDS: Stacked and Spaced */}\r\n                    <Box component=\"form\" onSubmit={handleLogin} sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\r\n                        \r\n                        <TextField\r\n                            label=\"Username *\" \r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            value={username}\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                            required\r\n                        />\r\n                        <TextField\r\n                            label=\"Password *\" \r\n                            type=\"password\"\r\n                            variant=\"outlined\"\r\n                            fullWidth\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            required\r\n                        />\r\n                        \r\n                        <Button \r\n                            type=\"submit\" \r\n                            variant=\"contained\" \r\n                            size=\"large\" \r\n                            color=\"primary\" \r\n                            fullWidth \r\n                            sx={{ mt: 2 }}\r\n                            disabled={loading} // Disable button while loading\r\n                        >\r\n                            {loading ? <CircularProgress size={24} color=\"inherit\" /> : 'LOGIN'}\r\n                        </Button>\r\n                        \r\n                        {message && (\r\n                            <Typography color=\"error\" align=\"center\" variant=\"body2\" sx={{ mt: 1 }}>\r\n                                {message}\r\n                            </Typography>\r\n                        )}\r\n\r\n                        {/* 4. NAVIGATION LINKS SECTION (Register and Forgot Password) */}\r\n                        <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 1 }}>\r\n                            \r\n                            {/* Register Link */}\r\n                            <Typography \r\n                                variant=\"body2\" \r\n                                component={Link} \r\n                                to=\"/register\" \r\n                                sx={{ textDecoration: 'none', color: 'primary.main', fontWeight: 'bold' }}\r\n                            >\r\n                                New User? **Register**\r\n                            </Typography>\r\n                            \r\n                            {/* Forgot Password Link */}\r\n                            <Typography \r\n                                variant=\"body2\" \r\n                                component={Link} \r\n                                to=\"/forgot-password\" \r\n                                sx={{ textDecoration: 'none', color: 'text.secondary' }}\r\n                            >\r\n                                Forgot Password?\r\n                            </Typography>\r\n                        </Box>\r\n                    </Box>\r\n                </CardContent>\r\n            </Card>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}