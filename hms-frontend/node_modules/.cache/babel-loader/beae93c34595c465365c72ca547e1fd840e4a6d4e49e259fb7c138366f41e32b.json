{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\OneDrive\\\\Desktop\\\\resume_projects\\\\hms-frontend\\\\src\\\\pages\\\\ViewEditMedicalRecord.js\",\n  _s = $RefreshSig$();\n// src/pages/ViewEditMedicalRecord.js (FINAL VERSION)\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport Layout from '../components/Layout';\nimport { Typography, Box, Alert, CircularProgress, Card, CardContent, TextField, Button } from '@mui/material';\nimport medicalRecordService from '../services/medicalRecordService'; // <-- REQUIRED SERVICE\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ViewEditMedicalRecord = () => {\n  _s();\n  const {\n    recordId\n  } = useParams();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [recordData, setRecordData] = useState(null);\n  const [error, setError] = useState(null);\n\n  // State to hold editable field values (if edit mode were enabled)\n  const [notes, setNotes] = useState('');\n\n  // --- Data Fetch Hook ---\n  useEffect(() => {\n    const fetchRecord = async () => {\n      try {\n        // ACTUAL API CALL to your Spring Boot backend\n        const data = await medicalRecordService.getRecordById(recordId);\n        setRecordData(data);\n        setNotes(data.consultationNotes); // Initialize editable state\n      } catch (err) {\n        var _err$response, _err$response$data;\n        const errorMessage = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || `Failed to load record #${recordId}. Access denied or not found.`;\n        setError(errorMessage);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (recordId) {\n      fetchRecord();\n    }\n  }, [recordId]); // Re-run if recordId changes\n\n  // --- Placeholder Update Handler ---\n  const handleUpdate = e => {\n    e.preventDefault();\n    // In a completed system, you would call:\n    // medicalRecordService.updateRecord(recordId, { notes: notes, diagnosis: ... })\n    alert(`Record ${recordId} updated successfully (SIMULATION).`);\n    navigate('/records/list', {\n      replace: true\n    });\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 96\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 33\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 25\n  }, this);\n  if (error || !recordData) return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      children: error || `Record ${recordId} not found.`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 46\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 38\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 3,\n        maxWidth: 800,\n        mx: 'auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        align: \"center\",\n        children: [\"Medical Record Details #\", recordId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          boxShadow: 3,\n          mt: 3\n        },\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle1\",\n            color: \"text.secondary\",\n            sx: {\n              mb: 3\n            },\n            children: [\"Patient: **\", recordData.patientName, \"** | Documented By: \", recordData.doctorName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            component: \"form\",\n            onSubmit: handleUpdate,\n            sx: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              label: \"Diagnosis / Summary\",\n              value: recordData.diagnosis // Display data fetched from backend\n              ,\n              fullWidth: true,\n              variant: \"outlined\",\n              disabled: true // Keep disabled as this is usually fixed\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              label: \"Consultation Notes\",\n              value: notes // Use local state for potential editing\n              ,\n              onChange: e => setNotes(e.target.value),\n              fullWidth: true,\n              multiline: true,\n              rows: 10,\n              variant: \"outlined\"\n              // Enable editing, ready for the backend PUT/PATCH API\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"contained\",\n              color: \"primary\",\n              children: \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_s(ViewEditMedicalRecord, \"Wew18smlZ0nDYq2LO3hVVEujmCU=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ViewEditMedicalRecord;\nexport default ViewEditMedicalRecord;\nvar _c;\n$RefreshReg$(_c, \"ViewEditMedicalRecord\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Layout","Typography","Box","Alert","CircularProgress","Card","CardContent","TextField","Button","medicalRecordService","jsxDEV","_jsxDEV","ViewEditMedicalRecord","_s","recordId","navigate","loading","setLoading","recordData","setRecordData","error","setError","notes","setNotes","fetchRecord","data","getRecordById","consultationNotes","err","_err$response","_err$response$data","errorMessage","response","message","handleUpdate","e","preventDefault","alert","replace","children","sx","display","justifyContent","mt","fileName","_jsxFileName","lineNumber","columnNumber","severity","p","maxWidth","mx","variant","gutterBottom","align","boxShadow","color","mb","patientName","doctorName","component","onSubmit","flexDirection","gap","label","value","diagnosis","fullWidth","disabled","onChange","target","multiline","rows","type","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/OneDrive/Desktop/resume_projects/hms-frontend/src/pages/ViewEditMedicalRecord.js"],"sourcesContent":["// src/pages/ViewEditMedicalRecord.js (FINAL VERSION)\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams,useNavigate } from 'react-router-dom';\r\nimport Layout from '../components/Layout';\r\nimport { Typography, Box, Alert, CircularProgress, Card, CardContent, TextField, Button } from '@mui/material';\r\nimport medicalRecordService from '../services/medicalRecordService'; // <-- REQUIRED SERVICE\r\n\r\nconst ViewEditMedicalRecord = () => {\r\n    const { recordId } = useParams();\r\n    const navigate= useNavigate();\r\n    const [loading, setLoading] = useState(true);\r\n    const [recordData, setRecordData] = useState(null);\r\n    const [error, setError] = useState(null);\r\n    \r\n    // State to hold editable field values (if edit mode were enabled)\r\n    const [notes, setNotes] = useState(''); \r\n\r\n    // --- Data Fetch Hook ---\r\n    useEffect(() => {\r\n        const fetchRecord = async () => {\r\n            try {\r\n                // ACTUAL API CALL to your Spring Boot backend\r\n                const data = await medicalRecordService.getRecordById(recordId);\r\n                setRecordData(data);\r\n                setNotes(data.consultationNotes); // Initialize editable state\r\n            } catch (err) {\r\n                const errorMessage = err.response?.data?.message || `Failed to load record #${recordId}. Access denied or not found.`;\r\n                setError(errorMessage);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        if (recordId) {\r\n            fetchRecord();\r\n        }\r\n    }, [recordId]); // Re-run if recordId changes\r\n\r\n    // --- Placeholder Update Handler ---\r\n    const handleUpdate = (e) => {\r\n        e.preventDefault();\r\n        // In a completed system, you would call:\r\n        // medicalRecordService.updateRecord(recordId, { notes: notes, diagnosis: ... })\r\n        alert(`Record ${recordId} updated successfully (SIMULATION).`);\r\n        navigate('/records/list', { replace: true });\r\n    };\r\n\r\n\r\n    if (loading) return <Layout><Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}><CircularProgress /></Box></Layout>;\r\n    \r\n    if (error || !recordData) return <Layout><Alert severity=\"error\">{error || `Record ${recordId} not found.`}</Alert></Layout>;\r\n    \r\n    return (\r\n        <Layout>\r\n            <Box sx={{ p: 3, maxWidth: 800, mx: 'auto' }}>\r\n                <Typography variant=\"h4\" gutterBottom align=\"center\">\r\n                    Medical Record Details #{recordId}\r\n                </Typography>\r\n                \r\n                <Card sx={{ boxShadow: 3, mt: 3 }}>\r\n                    <CardContent>\r\n                        <Typography variant=\"subtitle1\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n                            Patient: **{recordData.patientName}** | Documented By: {recordData.doctorName}\r\n                        </Typography>\r\n\r\n                        <Box component=\"form\" onSubmit={handleUpdate} sx={{ display: 'flex', flexDirection: 'column', gap: 3 }}>\r\n                            \r\n                            <TextField \r\n                                label=\"Diagnosis / Summary\" \r\n                                value={recordData.diagnosis} // Display data fetched from backend\r\n                                fullWidth \r\n                                variant=\"outlined\" \r\n                                disabled // Keep disabled as this is usually fixed\r\n                            />\r\n                            \r\n                            <TextField \r\n                                label=\"Consultation Notes\" \r\n                                value={notes} // Use local state for potential editing\r\n                                onChange={(e) => setNotes(e.target.value)}\r\n                                fullWidth \r\n                                multiline\r\n                                rows={10}\r\n                                variant=\"outlined\" \r\n                                // Enable editing, ready for the backend PUT/PATCH API\r\n                            />\r\n                            \r\n                            <Button type=\"submit\" variant=\"contained\" color=\"primary\">\r\n                                Save Changes\r\n                            </Button>\r\n                        </Box>\r\n                    </CardContent>\r\n                </Card>\r\n            </Box>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default ViewEditMedicalRecord;"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,EAACC,WAAW,QAAQ,kBAAkB;AACxD,OAAOC,MAAM,MAAM,sBAAsB;AACzC,SAASC,UAAU,EAAEC,GAAG,EAAEC,KAAK,EAAEC,gBAAgB,EAAEC,IAAI,EAAEC,WAAW,EAAEC,SAAS,EAAEC,MAAM,QAAQ,eAAe;AAC9G,OAAOC,oBAAoB,MAAM,kCAAkC,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAErE,MAAMC,qBAAqB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChC,MAAM;IAAEC;EAAS,CAAC,GAAGhB,SAAS,CAAC,CAAC;EAChC,MAAMiB,QAAQ,GAAEhB,WAAW,CAAC,CAAC;EAC7B,MAAM,CAACiB,OAAO,EAAEC,UAAU,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACsB,UAAU,EAAEC,aAAa,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACwB,KAAK,EAAEC,QAAQ,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;;EAExC;EACA,MAAM,CAAC0B,KAAK,EAAEC,QAAQ,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;;EAEtC;EACAC,SAAS,CAAC,MAAM;IACZ,MAAM2B,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACA;QACA,MAAMC,IAAI,GAAG,MAAMhB,oBAAoB,CAACiB,aAAa,CAACZ,QAAQ,CAAC;QAC/DK,aAAa,CAACM,IAAI,CAAC;QACnBF,QAAQ,CAACE,IAAI,CAACE,iBAAiB,CAAC,CAAC,CAAC;MACtC,CAAC,CAAC,OAAOC,GAAG,EAAE;QAAA,IAAAC,aAAA,EAAAC,kBAAA;QACV,MAAMC,YAAY,GAAG,EAAAF,aAAA,GAAAD,GAAG,CAACI,QAAQ,cAAAH,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcJ,IAAI,cAAAK,kBAAA,uBAAlBA,kBAAA,CAAoBG,OAAO,KAAI,0BAA0BnB,QAAQ,+BAA+B;QACrHO,QAAQ,CAACU,YAAY,CAAC;MAC1B,CAAC,SAAS;QACNd,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC;IAED,IAAIH,QAAQ,EAAE;MACVU,WAAW,CAAC,CAAC;IACjB;EACJ,CAAC,EAAE,CAACV,QAAQ,CAAC,CAAC,CAAC,CAAC;;EAEhB;EACA,MAAMoB,YAAY,GAAIC,CAAC,IAAK;IACxBA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB;IACA;IACAC,KAAK,CAAC,UAAUvB,QAAQ,qCAAqC,CAAC;IAC9DC,QAAQ,CAAC,eAAe,EAAE;MAAEuB,OAAO,EAAE;IAAK,CAAC,CAAC;EAChD,CAAC;EAGD,IAAItB,OAAO,EAAE,oBAAOL,OAAA,CAACX,MAAM;IAAAuC,QAAA,eAAC5B,OAAA,CAACT,GAAG;MAACsC,EAAE,EAAE;QAAEC,OAAO,EAAE,MAAM;QAAEC,cAAc,EAAE,QAAQ;QAAEC,EAAE,EAAE;MAAE,CAAE;MAAAJ,QAAA,eAAC5B,OAAA,CAACP,gBAAgB;QAAAwC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAQ,CAAC;EAE9H,IAAI3B,KAAK,IAAI,CAACF,UAAU,EAAE,oBAAOP,OAAA,CAACX,MAAM;IAAAuC,QAAA,eAAC5B,OAAA,CAACR,KAAK;MAAC6C,QAAQ,EAAC,OAAO;MAAAT,QAAA,EAAEnB,KAAK,IAAI,UAAUN,QAAQ;IAAa;MAAA8B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAQ,CAAC;EAE5H,oBACIpC,OAAA,CAACX,MAAM;IAAAuC,QAAA,eACH5B,OAAA,CAACT,GAAG;MAACsC,EAAE,EAAE;QAAES,CAAC,EAAE,CAAC;QAAEC,QAAQ,EAAE,GAAG;QAAEC,EAAE,EAAE;MAAO,CAAE;MAAAZ,QAAA,gBACzC5B,OAAA,CAACV,UAAU;QAACmD,OAAO,EAAC,IAAI;QAACC,YAAY;QAACC,KAAK,EAAC,QAAQ;QAAAf,QAAA,GAAC,0BACzB,EAACzB,QAAQ;MAAA;QAAA8B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB,CAAC,eAEbpC,OAAA,CAACN,IAAI;QAACmC,EAAE,EAAE;UAAEe,SAAS,EAAE,CAAC;UAAEZ,EAAE,EAAE;QAAE,CAAE;QAAAJ,QAAA,eAC9B5B,OAAA,CAACL,WAAW;UAAAiC,QAAA,gBACR5B,OAAA,CAACV,UAAU;YAACmD,OAAO,EAAC,WAAW;YAACI,KAAK,EAAC,gBAAgB;YAAChB,EAAE,EAAE;cAAEiB,EAAE,EAAE;YAAE,CAAE;YAAAlB,QAAA,GAAC,aACvD,EAACrB,UAAU,CAACwC,WAAW,EAAC,sBAAoB,EAACxC,UAAU,CAACyC,UAAU;UAAA;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrE,CAAC,eAEbpC,OAAA,CAACT,GAAG;YAAC0D,SAAS,EAAC,MAAM;YAACC,QAAQ,EAAE3B,YAAa;YAACM,EAAE,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEqB,aAAa,EAAE,QAAQ;cAAEC,GAAG,EAAE;YAAE,CAAE;YAAAxB,QAAA,gBAEnG5B,OAAA,CAACJ,SAAS;cACNyD,KAAK,EAAC,qBAAqB;cAC3BC,KAAK,EAAE/C,UAAU,CAACgD,SAAU,CAAC;cAAA;cAC7BC,SAAS;cACTf,OAAO,EAAC,UAAU;cAClBgB,QAAQ,OAAC;YAAA;cAAAxB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACZ,CAAC,eAEFpC,OAAA,CAACJ,SAAS;cACNyD,KAAK,EAAC,oBAAoB;cAC1BC,KAAK,EAAE3C,KAAM,CAAC;cAAA;cACd+C,QAAQ,EAAGlC,CAAC,IAAKZ,QAAQ,CAACY,CAAC,CAACmC,MAAM,CAACL,KAAK,CAAE;cAC1CE,SAAS;cACTI,SAAS;cACTC,IAAI,EAAE,EAAG;cACTpB,OAAO,EAAC;cACR;YAAA;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAEFpC,OAAA,CAACH,MAAM;cAACiE,IAAI,EAAC,QAAQ;cAACrB,OAAO,EAAC,WAAW;cAACI,KAAK,EAAC,SAAS;cAAAjB,QAAA,EAAC;YAE1D;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACZ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEjB,CAAC;AAAClC,EAAA,CAxFID,qBAAqB;EAAA,QACFd,SAAS,EACdC,WAAW;AAAA;AAAA2E,EAAA,GAFzB9D,qBAAqB;AA0F3B,eAAeA,qBAAqB;AAAC,IAAA8D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}