{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\OneDrive\\\\Desktop\\\\resume_projects\\\\hms-frontend\\\\src\\\\pages\\\\MyAppointments.js\",\n  _s = $RefreshSig$();\n// src/pages/MyAppointments.js\n\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport Layout from '../components/Layout';\nimport { useAuth } from '../context/AuthContext';\nimport appointmentService from '../services/appointmentService';\nimport { Typography, Paper, Table, TableContainer, TableHead, TableRow, TableCell, TableBody, Alert, CircularProgress, Button, Box } from '@mui/material';\nimport DateFilter from '../components/DateFilter'; // Assuming DateFilter.js is implemented\nimport PostAddIcon from '@mui/icons-material/PostAdd';\nimport RefreshIcon from '@mui/icons-material/Refresh';\n\n// ========================================================================\n// APPOINTMENT TABLE COMPONENT (Nested for clean separation)\n// ========================================================================\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppointmentManagementTable = ({\n  appointments,\n  role,\n  onStatusUpdate\n}) => {\n  // Handles the status update API call and triggers parent state change\n  const handleStatusUpdate = async (apptId, currentStatus) => {\n    const newStatus = 'COMPLETED';\n    try {\n      // CRITICAL: Call the backend API to persist the change\n      const updatedAppt = await appointmentService.updateStatus(apptId, newStatus);\n\n      // On successful API call, update the local state immediately\n      onStatusUpdate(updatedAppt.id, updatedAppt.status);\n    } catch (error) {\n      // Display error to user\n      alert(`Failed to update status. Check backend console for details.`);\n      console.error(\"Status update failed:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(TableContainer, {\n    component: Paper,\n    sx: {\n      mt: 2\n    },\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      size: \"small\",\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          sx: {\n            backgroundColor: '#e0e0e0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Date & Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Doctor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Patient\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this), role === 'ROLE_DOCTOR' && /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"center\",\n            children: \"Manage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 52\n          }, this), role === 'ROLE_DOCTOR' && /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"center\",\n            children: \"Record\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 52\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: appointments.map(appt => /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: new Date(appt.appointmentTime).toLocaleString([], {\n              dateStyle: 'short',\n              timeStyle: 'short'\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: appt.doctorName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: appt.patientName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: appt.status === 'SCHEDULED' ? 'primary' : appt.status === 'COMPLETED' ? 'success' : 'error',\n              children: appt.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }, this), role === 'ROLE_DOCTOR' && /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"center\",\n            children: appt.status === 'SCHEDULED' ?\n            /*#__PURE__*/\n            // ONLY show button if SCHEDULED\n            _jsxDEV(Button, {\n              variant: \"outlined\",\n              size: \"small\",\n              color: \"primary\",\n              startIcon: /*#__PURE__*/_jsxDEV(RefreshIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 56\n              }, this),\n              onClick: () => handleStatusUpdate(appt.id, appt.status),\n              children: \"Update Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 41\n            }, this) :\n            /*#__PURE__*/\n            // Hide button when completed/canceled\n            _jsxDEV(Typography, {\n              variant: \"caption\",\n              color: \"text.secondary\",\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 33\n          }, this), role === 'ROLE_DOCTOR' && /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"center\",\n            children: appt.hasRecord ?\n            /*#__PURE__*/\n            // FINAL STATE: Record exists and is persisted\n            _jsxDEV(Typography, {\n              variant: \"caption\",\n              color: \"success\",\n              sx: {\n                fontWeight: 'bold'\n              },\n              children: \"Record Updated\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 41\n            }, this) :\n            // Actionable State: Only show button if status is COMPLETED\n            appt.status === 'COMPLETED' ? /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              size: \"small\",\n              color: \"success\",\n              startIcon: /*#__PURE__*/_jsxDEV(PostAddIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 60\n              }, this),\n              component: Link,\n              to: `/records/create/${appt.patientId}/${appt.doctorId}`,\n              state: {\n                patientName: appt.patientName,\n                doctorName: appt.doctorName,\n                apptId: appt.id // Pass Appt ID for creation\n              },\n              children: \"Create Record\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 45\n            }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              color: \"text.secondary\",\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 33\n          }, this)]\n        }, appt.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n// ========================================================================\n\n// ========================================================================\n// MAIN COMPONENT: MyAppointments\n// ========================================================================\n_c = AppointmentManagementTable;\nconst MyAppointments = () => {\n  _s();\n  const {\n    role\n  } = useAuth();\n  const location = useLocation();\n  const [appointments, setAppointments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [filterDates, setFilterDates] = useState({\n    startDate: null,\n    endDate: null\n  }); // State for filtering\n\n  // Function to fetch appointments from the backend\n  const fetchAppointments = async () => {\n    try {\n      // Pass the date parameters to the API call\n      const data = await appointmentService.getMyAppointments(filterDates.startDate, filterDates.endDate);\n      setAppointments(data);\n    } catch (err) {\n      setError(\"Failed to fetch appointments.\");\n      console.error(\"Appointment fetch error:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Load appointments on component mount or when filters change\n  useEffect(() => {\n    var _location$state;\n    fetchAppointments();\n\n    // Handle success message after redirect from record creation\n    if ((_location$state = location.state) !== null && _location$state !== void 0 && _location$state.successMsg) {\n      setSuccessMessage(\"Medical record created successfully.\");\n      // Clear the state after reading it\n      window.history.replaceState({}, document.title, location.pathname);\n    }\n    // Re-fetch when the filter dates change (robust filtering)\n  }, [location.state, filterDates]);\n\n  // Function to update local state after a successful API status change\n  const handleLocalStatusUpdate = (apptId, newStatus) => {\n    // Find the appointment and update its status locally to refresh the UI immediately\n    setAppointments(prev => prev.map(a => {\n      if (a.id === apptId) {\n        return {\n          ...a,\n          status: newStatus\n        };\n      }\n      return a;\n    }));\n  };\n\n  // Function passed to the DateFilter component\n  const handleFilterChange = (start, end) => {\n    setLoading(true);\n    // This triggers the useEffect hook to re-fetch data\n    setFilterDates({\n      startDate: start,\n      endDate: end\n    });\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        mt: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 96\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 33\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        children: \"My Appointments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 2\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 27\n      }, this), successMessage && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"success\",\n        sx: {\n          mb: 2\n        },\n        children: successMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 36\n      }, this), /*#__PURE__*/_jsxDEV(DateFilter, {\n        onFilter: handleFilterChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(AppointmentManagementTable, {\n        appointments: appointments,\n        role: role,\n        onStatusUpdate: handleLocalStatusUpdate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 9\n  }, this);\n};\n_s(MyAppointments, \"G2UiGhcLu2KI/576volQ7fWaDrI=\", false, function () {\n  return [useAuth, useLocation];\n});\n_c2 = MyAppointments;\nexport default MyAppointments;\nvar _c, _c2;\n$RefreshReg$(_c, \"AppointmentManagementTable\");\n$RefreshReg$(_c2, \"MyAppointments\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useLocation","Layout","useAuth","appointmentService","Typography","Paper","Table","TableContainer","TableHead","TableRow","TableCell","TableBody","Alert","CircularProgress","Button","Box","DateFilter","PostAddIcon","RefreshIcon","jsxDEV","_jsxDEV","AppointmentManagementTable","appointments","role","onStatusUpdate","handleStatusUpdate","apptId","currentStatus","newStatus","updatedAppt","updateStatus","id","status","error","alert","console","component","sx","mt","children","size","backgroundColor","fileName","_jsxFileName","lineNumber","columnNumber","align","map","appt","Date","appointmentTime","toLocaleString","dateStyle","timeStyle","doctorName","patientName","variant","color","startIcon","onClick","hasRecord","fontWeight","to","patientId","doctorId","state","_c","MyAppointments","_s","location","setAppointments","loading","setLoading","setError","successMessage","setSuccessMessage","filterDates","setFilterDates","startDate","endDate","fetchAppointments","data","getMyAppointments","err","_location$state","successMsg","window","history","replaceState","document","title","pathname","handleLocalStatusUpdate","prev","a","handleFilterChange","start","end","display","justifyContent","p","gutterBottom","severity","mb","onFilter","_c2","$RefreshReg$"],"sources":["C:/Users/Lenovo/OneDrive/Desktop/resume_projects/hms-frontend/src/pages/MyAppointments.js"],"sourcesContent":["// src/pages/MyAppointments.js\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport Layout from '../components/Layout';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport appointmentService from '../services/appointmentService';\r\nimport { \r\n    Typography, Paper, Table, TableContainer, TableHead, TableRow, TableCell, TableBody, \r\n    Alert, CircularProgress, Button, Box\r\n} from '@mui/material';\r\nimport DateFilter from '../components/DateFilter'; // Assuming DateFilter.js is implemented\r\nimport PostAddIcon from '@mui/icons-material/PostAdd';\r\nimport RefreshIcon from '@mui/icons-material/Refresh'; \r\n\r\n// ========================================================================\r\n// APPOINTMENT TABLE COMPONENT (Nested for clean separation)\r\n// ========================================================================\r\nconst AppointmentManagementTable = ({ appointments, role, onStatusUpdate }) => {\r\n    \r\n    // Handles the status update API call and triggers parent state change\r\n    const handleStatusUpdate = async (apptId, currentStatus) => {\r\n        const newStatus = 'COMPLETED'; \r\n        \r\n        try {\r\n            // CRITICAL: Call the backend API to persist the change\r\n            const updatedAppt = await appointmentService.updateStatus(apptId, newStatus); \r\n            \r\n            // On successful API call, update the local state immediately\r\n            onStatusUpdate(updatedAppt.id, updatedAppt.status); \r\n\r\n        } catch (error) {\r\n            // Display error to user\r\n            alert(`Failed to update status. Check backend console for details.`); \r\n            console.error(\"Status update failed:\", error);\r\n        }\r\n    };\r\n    \r\n    return (\r\n        <TableContainer component={Paper} sx={{ mt: 2 }}>\r\n            <Table size=\"small\">\r\n                <TableHead>\r\n                    <TableRow sx={{ backgroundColor: '#e0e0e0' }}>\r\n                        <TableCell>Date & Time</TableCell>\r\n                        <TableCell>Doctor</TableCell>\r\n                        <TableCell>Patient</TableCell>\r\n                        <TableCell>Status</TableCell>\r\n                        {role === 'ROLE_DOCTOR' && <TableCell align=\"center\">Manage</TableCell>} \r\n                        {role === 'ROLE_DOCTOR' && <TableCell align=\"center\">Record</TableCell>}\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {appointments.map((appt) => (\r\n                        <TableRow key={appt.id}>\r\n                            <TableCell>\r\n                                {new Date(appt.appointmentTime).toLocaleString([], { dateStyle: 'short', timeStyle: 'short' })}\r\n                            </TableCell>\r\n                            <TableCell>{appt.doctorName}</TableCell>\r\n                            <TableCell>{appt.patientName}</TableCell>\r\n                            <TableCell>\r\n                                <Typography variant=\"body2\" color={appt.status === 'SCHEDULED' ? 'primary' : appt.status === 'COMPLETED' ? 'success' : 'error'}>\r\n                                    {appt.status}\r\n                                </Typography>\r\n                            </TableCell>\r\n                            \r\n                            {/* 1. Manage Column (Status Update) - DOCTOR ONLY */}\r\n                            {role === 'ROLE_DOCTOR' && (\r\n                                <TableCell align=\"center\">\r\n                                    {appt.status === 'SCHEDULED' ? ( // ONLY show button if SCHEDULED\r\n                                        <Button \r\n                                            variant=\"outlined\" \r\n                                            size=\"small\" \r\n                                            color=\"primary\"\r\n                                            startIcon={<RefreshIcon />}\r\n                                            onClick={() => handleStatusUpdate(appt.id, appt.status)}\r\n                                        >\r\n                                            Update Status\r\n                                        </Button>\r\n                                    ) : (\r\n                                        // Hide button when completed/canceled\r\n                                        <Typography variant=\"caption\" color=\"text.secondary\">\r\n                                            -\r\n                                        </Typography>\r\n                                    )}\r\n                                </TableCell>\r\n                            )}\r\n\r\n                            {/* 2. Record Column (Creation/Updated Text) - DOCTOR ONLY */}\r\n                            {role === 'ROLE_DOCTOR' && (\r\n                                <TableCell align=\"center\">\r\n                                    {appt.hasRecord ? ( \r\n                                        // FINAL STATE: Record exists and is persisted\r\n                                        <Typography variant=\"caption\" color=\"success\" sx={{ fontWeight: 'bold' }}>\r\n                                            Record Updated\r\n                                        </Typography>\r\n                                    ) : (\r\n                                        // Actionable State: Only show button if status is COMPLETED\r\n                                        appt.status === 'COMPLETED' ? (\r\n                                            <Button \r\n                                                variant=\"contained\" \r\n                                                size=\"small\" \r\n                                                color=\"success\"\r\n                                                startIcon={<PostAddIcon />}\r\n                                                component={Link}\r\n                                                to={`/records/create/${appt.patientId}/${appt.doctorId}`} \r\n                                                state={{ \r\n                                                    patientName: appt.patientName, \r\n                                                    doctorName: appt.doctorName,\r\n                                                    apptId: appt.id // Pass Appt ID for creation\r\n                                                }}\r\n                                            >\r\n                                                Create Record\r\n                                            </Button>\r\n                                        ) : (\r\n                                            <Typography variant=\"caption\" color=\"text.secondary\">\r\n                                                -\r\n                                            </Typography>\r\n                                        )\r\n                                    )}\r\n                                </TableCell>\r\n                            )}\r\n                        </TableRow>\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n    );\r\n};\r\n// ========================================================================\r\n\r\n\r\n// ========================================================================\r\n// MAIN COMPONENT: MyAppointments\r\n// ========================================================================\r\nconst MyAppointments = () => {\r\n    const { role } = useAuth();\r\n    const location = useLocation();\r\n    const [appointments, setAppointments] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [successMessage, setSuccessMessage] = useState(null);\r\n    const [filterDates, setFilterDates] = useState({ startDate: null, endDate: null }); // State for filtering\r\n\r\n    // Function to fetch appointments from the backend\r\n    const fetchAppointments = async () => {\r\n        try {\r\n            // Pass the date parameters to the API call\r\n            const data = await appointmentService.getMyAppointments(\r\n                filterDates.startDate, \r\n                filterDates.endDate\r\n            );\r\n            setAppointments(data);\r\n        }catch (err) {\r\n            setError(\"Failed to fetch appointments.\");\r\n            console.error(\"Appointment fetch error:\", err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Load appointments on component mount or when filters change\r\n    useEffect(() => {\r\n        fetchAppointments();\r\n        \r\n        // Handle success message after redirect from record creation\r\n        if (location.state?.successMsg) {\r\n            setSuccessMessage(\"Medical record created successfully.\");\r\n            // Clear the state after reading it\r\n            window.history.replaceState({}, document.title, location.pathname); \r\n        }\r\n    // Re-fetch when the filter dates change (robust filtering)\r\n    }, [location.state, filterDates]); \r\n\r\n    // Function to update local state after a successful API status change\r\n    const handleLocalStatusUpdate = (apptId, newStatus) => {\r\n        // Find the appointment and update its status locally to refresh the UI immediately\r\n        setAppointments(prev => \r\n            prev.map(a => {\r\n                if (a.id === apptId) {\r\n                    return { ...a, status: newStatus };\r\n                }\r\n                return a;\r\n            })\r\n        );\r\n    };\r\n    \r\n    // Function passed to the DateFilter component\r\n    const handleFilterChange = (start, end) => {\r\n        setLoading(true);\r\n        // This triggers the useEffect hook to re-fetch data\r\n        setFilterDates({ startDate: start, endDate: end });\r\n    };\r\n\r\n\r\n    if (loading) return <Layout><Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}><CircularProgress /></Box></Layout>;\r\n    \r\n    return (\r\n        <Layout>\r\n            <Box sx={{ p: 3 }}>\r\n                <Typography variant=\"h4\" gutterBottom>\r\n                    My Appointments\r\n                </Typography>\r\n                \r\n                {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\r\n                \r\n                {/* Display POST-SUBMISSION SUCCESS ALERT */}\r\n                {successMessage && <Alert severity=\"success\" sx={{ mb: 2 }}>{successMessage}</Alert>}\r\n                \r\n                {/* 1. Date Filtering Component */}\r\n                <DateFilter onFilter={handleFilterChange} />\r\n                \r\n                {/* 2. Render the full management table */}\r\n                <AppointmentManagementTable \r\n                    appointments={appointments} \r\n                    role={role}\r\n                    onStatusUpdate={handleLocalStatusUpdate}\r\n                />\r\n            </Box>\r\n        </Layout>\r\n    );\r\n};\r\nexport default MyAppointments;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}