{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\OneDrive\\\\Desktop\\\\resume_projects\\\\hms-frontend\\\\src\\\\pages\\\\Register.js\",\n  _s = $RefreshSig$();\n// src/pages/Register.js\nimport React, { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { TextField, Button, Box, Typography, Card, CardContent, FormControl, InputLabel, Select, MenuItem } from '@mui/material';\nimport axios from 'axios';\nimport './Login.css'; // Reuse login styling\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Register = () => {\n  _s();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [role, setRole] = useState('ROLE_PATIENT'); // Default to Patient\n  const [message, setMessage] = useState('');\n  const navigate = useNavigate();\n  const handleRegister = async e => {\n    e.preventDefault();\n    setMessage('');\n    try {\n      const response = await axios.post(\"/api/auth/register\", {\n        username,\n        password,\n        role\n      });\n      setMessage(\"Registration successful! You can now log in.\");\n      // Redirect to login after a short delay\n      setTimeout(() => navigate('/'), 2000);\n    } catch (error) {\n      var _error$response;\n      setMessage(\"Registration failed. \" + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || \"Server error.\"));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: '90vh'\n    },\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"login-card\",\n      sx: {\n        minWidth: 350,\n        p: 3,\n        boxShadow: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          gutterBottom: true,\n          align: \"center\",\n          children: \"User Registration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          component: \"form\",\n          onSubmit: handleRegister,\n          className: \"login-form-fields\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Username\",\n            fullWidth: true,\n            required: true,\n            value: username,\n            onChange: e => setUsername(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Password\",\n            type: \"password\",\n            fullWidth: true,\n            required: true,\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"role-label\",\n              children: \"Register As\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"role-label\",\n              id: \"role-select\",\n              value: role,\n              label: \"Register As\",\n              onChange: e => setRole(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"ROLE_PATIENT\",\n                children: \"Patient\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"ROLE_DOCTOR\",\n                children: \"Doctor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"contained\",\n            size: \"large\",\n            sx: {\n              mt: 2\n            },\n            children: \"Register Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), message && /*#__PURE__*/_jsxDEV(Typography, {\n            color: message.includes(\"successful\") ? 'success' : 'error',\n            align: \"center\",\n            sx: {\n              mt: 1\n            },\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 38\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            component: Link,\n            to: \"/\",\n            align: \"center\",\n            sx: {\n              mt: 2\n            },\n            children: \"Already have an account? Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n};\n_s(Register, \"2JrqnvQvWBptHmBnulrLTiRTx3Y=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useNavigate","Link","TextField","Button","Box","Typography","Card","CardContent","FormControl","InputLabel","Select","MenuItem","axios","jsxDEV","_jsxDEV","Register","_s","username","setUsername","password","setPassword","role","setRole","message","setMessage","navigate","handleRegister","e","preventDefault","response","post","setTimeout","error","_error$response","data","sx","display","justifyContent","alignItems","height","children","className","minWidth","p","boxShadow","variant","gutterBottom","align","fileName","_jsxFileName","lineNumber","columnNumber","component","onSubmit","label","fullWidth","required","value","onChange","target","type","id","labelId","size","mt","color","includes","to","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/OneDrive/Desktop/resume_projects/hms-frontend/src/pages/Register.js"],"sourcesContent":["// src/pages/Register.js\r\nimport React, { useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { TextField, Button, Box, Typography, Card, CardContent, FormControl, InputLabel, Select, MenuItem } from '@mui/material';\r\nimport axios from 'axios';\r\nimport './Login.css'; // Reuse login styling\r\n\r\nconst Register = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [role, setRole] = useState('ROLE_PATIENT'); // Default to Patient\r\n    const [message, setMessage] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n    const handleRegister = async (e) => {\r\n        e.preventDefault();\r\n        setMessage('');\r\n        try {\r\n            const response = await axios.post(\"/api/auth/register\", { \r\n                username, \r\n                password, \r\n                role \r\n            });\r\n            setMessage(\"Registration successful! You can now log in.\");\r\n            // Redirect to login after a short delay\r\n            setTimeout(() => navigate('/'), 2000); \r\n        } catch (error) {\r\n            setMessage(\"Registration failed. \" + (error.response?.data || \"Server error.\"));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '90vh' }}>\r\n            <Card className=\"login-card\" sx={{ minWidth: 350, p: 3, boxShadow: 3 }}>\r\n                <CardContent>\r\n                    <Typography variant=\"h5\" gutterBottom align=\"center\">\r\n                        User Registration\r\n                    </Typography>\r\n                    <Box component=\"form\" onSubmit={handleRegister} className=\"login-form-fields\">\r\n                        <TextField label=\"Username\" fullWidth required value={username} onChange={(e) => setUsername(e.target.value)}/>\r\n                        <TextField label=\"Password\" type=\"password\" fullWidth required value={password} onChange={(e) => setPassword(e.target.value)}/>\r\n                        \r\n                        <FormControl fullWidth>\r\n                            <InputLabel id=\"role-label\">Register As</InputLabel>\r\n                            <Select labelId=\"role-label\" id=\"role-select\" value={role} label=\"Register As\" onChange={(e) => setRole(e.target.value)}>\r\n                                <MenuItem value={\"ROLE_PATIENT\"}>Patient</MenuItem>\r\n                                <MenuItem value={\"ROLE_DOCTOR\"}>Doctor</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n\r\n                        <Button type=\"submit\" variant=\"contained\" size=\"large\" sx={{ mt: 2 }}>\r\n                            Register Account\r\n                        </Button>\r\n\r\n                        {message && (<Typography color={message.includes(\"successful\") ? 'success' : 'error'} align=\"center\" sx={{ mt: 1 }}>{message}</Typography>)}\r\n                        \r\n                        <Typography variant=\"body2\" component={Link} to=\"/\" align=\"center\" sx={{ mt: 2 }}>\r\n                            Already have an account? Login\r\n                        </Typography>\r\n                    </Box>\r\n                </CardContent>\r\n            </Card>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}